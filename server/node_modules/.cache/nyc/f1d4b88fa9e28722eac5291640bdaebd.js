var cov_16vi8uxk7j=function(){var path="/home/segfault_r/project/server/controllers/users.js",hash="8b898db461a8c88388ba66e6976cf197baac7cce",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/home/segfault_r/project/server/controllers/users.js",statementMap:{"0":{start:{line:2,column:12},end:{line:2,column:35}},"1":{start:{line:3,column:13},end:{line:3,column:38}},"2":{start:{line:4,column:23},end:{line:4,column:50}},"3":{start:{line:6,column:0},end:{line:13,column:1}},"4":{start:{line:7,column:2},end:{line:12,column:17}},"5":{start:{line:15,column:0},end:{line:55,column:1}},"6":{start:{line:51,column:0},end:{line:51,column:24}},"7":{start:{line:52,column:18},end:{line:52,column:37}},"8":{start:{line:53,column:4},end:{line:53,column:36}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:12},end:{line:6,column:13}},loc:{start:{line:6,column:20},end:{line:13,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:49,column:17},end:{line:49,column:18}},loc:{start:{line:49,column:43},end:{line:54,column:3}},line:49}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},f:{"0":0,"1":0},b:{},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const JWT=(cov_16vi8uxk7j.s[0]++,require('jsonwebtoken'));const User=(cov_16vi8uxk7j.s[1]++,require('../models/user'));const{JWT_SECRET}=(cov_16vi8uxk7j.s[2]++,require('../configuration'));cov_16vi8uxk7j.s[3]++;signToken=user=>{cov_16vi8uxk7j.f[0]++;cov_16vi8uxk7j.s[4]++;return JWT.sign({iss:'CodeWorkr',sub:user.id,iat:new Date().getTime(),// current time
exp:new Date().setDate(new Date().getDate()+30)// current time + 30 days ahead
},JWT_SECRET);};cov_16vi8uxk7j.s[5]++;module.exports={// signUp: async (req, res, next) => {
//   const { email, password } = req.value.body;
//   // Check if there is a user with the same email
//   const foundUser = await User.findOne({ "local.email": email });
//   if (foundUser) {
//     return res.status(403).json({ error: 'Email is already in use'});
//   }
//   // Create a new user
//   const newUser = new User({
//     method: 'local',
//     local: {
//       email: email,
//       password: password
//     }
//   });
//   await newUser.save();
//   // Generate the token
//   const token = signToken(newUser);
//   // Respond with token
//   res.status(200).json({ token });
// },
// signIn: async (req, res, next) => {
//   // Generate token
//   const token = signToken(req.user);
//   res.status(200).json({ token });
// },
facebookOAuth:async(req,res,next)=>{cov_16vi8uxk7j.f[1]++;cov_16vi8uxk7j.s[6]++;// Generate token
console.log('got here');const token=(cov_16vi8uxk7j.s[7]++,signToken(req.user));cov_16vi8uxk7j.s[8]++;res.status(200).json({token});}};